function initWindow(m){var g=m.id.replace(/^window_/,"");m.innerHTML='\n<div class="titlebar">\n	<div class="title"><a href="application/'+g+'"><img src="'+ROOTPATH+"services/"+g+'/icon.png" alt="" />'+g+'</a></div>\n	<div class="titleButtons"><!--\n		--><button class="options" onclick="this.focus();"><span>options</span></button><!--\n		--><div class="menu">\n			<ul>\n				<li><button>Partager ce service</button></li>\n				<li><button>Signaler ce service</button></li>\n				<li><hr /></li>\n				<li><button onclick="this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.toogleMinimize()">Réduire ce service</button></li>\n				<li><button onclick="this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.toogleMaximize()">Agrandir ce service</button></li>\n				<li><button onclick="this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.close()">Supprimer ce service</button></li>\n			</ul>\n		</div><!--\n		--><button class="minimize" title="minimize" onclick="this.parentNode.parentNode.parentNode.toogleMinimize()"><span>-</span></button><!--\n		--><button class="maximize" title="maximize" onclick="this.parentNode.parentNode.parentNode.toogleMaximize()"><span>+</span></button><!--\n		--><button class="close" title="delete" onclick="this.parentNode.parentNode.parentNode.close()"><span>x</span></button><!--\n	--></div>\n</div>\n<div class="content">\n	<!--[if IE 8]>\n	<iframe allowtransparency="true" frameBorder="0" src="application/'+g+'?template=onlycontent" id="'+g+'">\n		<a href="application/'+g+'">Démarrer l\'application</a>\n	</iframe>\n	<![endif]-->\n	<!--[if gt IE 8]><!-->\n	<iframe src="application/'+g+'?template=onlycontent" id="'+g+'">\n		<a href="application/'+g+'">Démarrer l\'application</a>\n	</iframe>\n	<!--><![endif]-->\n</div>\n<div class="rightResizer"></div>\n<div class="leftResizer"></div>\n<div class="bottomResizer"></div>';var u=m.parentNode.parentNode;var p=document.createElement("div");var k=m.getElementsByClassName("bottomResizer");k=k[k.length-1];var c=m.getElementsByClassName("content")[0];var l=m.clientHeight;var a=false;var f=false;m.getMinimize=function(){return a};m.setMinimize=function(w){a=w;if(w){m.getElementsByClassName("content")[0].style.display="none";m.style.height="auto";m.style.minHeight="0"}else{m.getElementsByClassName("content")[0].style.display="";m.style.height=l+"px";m.style.minHeight=""}};m.toogleMinimize=function(){m.setMinimize(!m.getMinimize())};m.getMaximize=function(){return f};m.setMaximize=function(y){if(f!=y){f=y;if(y){var x=new Object();u.className+=" childmaximized";m.className+=" maximized";m.style.height=""}else{u.className=u.className.replace(/ childmaximized/,"");m.className=m.className.replace(/ maximized/g,"");m.style.height=l+"px"}var w=document.createEvent("Event");w.initEvent("resize",true,false);m.dispatchEvent(w)}};m.toogleMaximize=function(){m.setMaximize(!m.getMaximize())};m.close=function(){m.setMaximize(false);m.parentNode.removeChild(m);m=null};var d=function(w){if(typeof(window.ieVersion)!="undefined"){if(window.ieVersion<w){return true}}return false};var o=null;var v=function(w){var x=0;if(window.event&&d(9)){var x=1}if(w.button==x&&!window.isMobileDesign()){addEventListenerToElement(m.getElementsByClassName("titlebar")[0],"mousemove",t);addEventListenerToElement(m.getElementsByClassName("titlebar")[0],"mouseup",function(){removeEventListenerToElement(m.getElementsByClassName("titlebar")[0],"mousemove",t)});w.preventDefault()}};var t=function(w){o=new Object();var y=m.offsetLeft;var x=m.offsetTop;o.x=w.offsetX||w.layerX;o.y=w.offsetY||w.layerY;p.style.height=m.offsetHeight+"px";m.parentNode.insertBefore(p,m);m.style.width=m.clientWidth+"px";m.style.position="absolute";m.style.left=y+"px";m.style.top=x+"px";m.style.zIndex="1";m.style.margin="0";m.getElementsByTagName("iframe")[0].style.visibility="hidden";u.setGlassPaneVisibility(true);addEventListenerToElement(u,"mousemove",r);if(d(9)){addEventListenerToElement(document,"mouseup",e)}else{addEventListenerToElement(window,"mouseup",e)}removeEventListenerToElement(m.getElementsByClassName("titlebar")[0],"mousemove",t);w.preventDefault()};var s=function(z,B){var A=z.childNodes.length;for(var x=0;x<A;x++){var w=z.childNodes[x];if(w.nodeType==w.ELEMENT_NODE){if((w!=m)&&((B-w.offsetTop)<w.offsetHeight/2)){return w}}}return null};var r=function(z){var w=(z.layerX||z.offsetX)+i(z.target);var C=(z.layerY||z.offsetY)+j(z.target);var A=u.getColumnByPixelOffset(w);var B=s(A,C);if(B){A.insertBefore(p,B)}else{A.appendChild(p)}m.style.left=(w-o.x)+"px";m.style.top=(C-o.y)+"px";z.preventDefault()};var e=function(w){m.style.width="";m.style.position="";m.style.zIndex="";m.style.top="";m.style.left="";m.style.margin="";m.getElementsByTagName("iframe")[0].style.visibility="";u.setGlassPaneVisibility(false);p.parentNode.insertBefore(m,p);p.parentNode.removeChild(p);removeEventListenerToElement(u,"mousemove",r);if(d(9)){removeEventListenerToElement(document,"mouseup",e)}else{removeEventListenerToElement(window,"mouseup",e)}};var j=function(w){var x=0;for(;w!=u;w=w.parentNode){if(getComputedStyle(w,null).position!="static"){x+=w.offsetTop}}return x};var i=function(w){var x=0;for(;w!=u;w=w.parentNode){if(getComputedStyle(w,null).position!="static"){x+=w.offsetLeft}}return x};var q=function(w){var x=0;if(window.event&&d(9)){var x=1}if(w.button==x){o=new Object();o.x=(w.offsetX||w.layerX)+i(k);o.y=(w.offsetY||w.layerY)+j(k);document.body.style.cursor="s-resize";u.setGlassPaneVisibility(true);addEventListenerToElement(u,"mousemove",b);if(d(9)){addEventListenerToElement(document,"mouseup",n)}else{addEventListenerToElement(window,"mouseup",n)}w.preventDefault()}};var b=function(x){var y=o.y-((x.offsetY||x.layerY)+j(x.target));var w=l-y;w=w<0?0:w;m.style.height=w+"px"};var n=function(w){document.body.style.cursor="";l=m.clientHeight;u.setGlassPaneVisibility(false);removeEventListenerToElement(u,"mousemove",b);if(d(9)){removeEventListenerToElement(document,"mouseup",n)}else{removeEventListenerToElement(window,"mouseup",n)}};var h=function(w){w.stopPropagation()};(function(){if(!m.getElementsByClassName){m.getElementsByClassName=patchGEBCN.getElementsByClassName}p.className="windowshadow";addEventListenerToElement(m.getElementsByClassName("titlebar")[0],"mousedown",v);var x=m.getElementsByClassName("titlebar")[0].getElementsByTagName("button");for(var w=0;w<x.length;w++){addEventListenerToElement(x[w],"mousedown",h)}addEventListenerToElement(k,"mousedown",q)})()};