<?xml version="1.0" encoding="UTF-8"?>
<!--
  logback configuration file for myMed logging.

  Here we have three different loggers, two on files and one to the standard
  output.

  In order for the logging service to work, this file should be passed to the JVM as:
  -Dlogback.configurationFile=PATH_TO_THIS_FILE

  or it has to be accessible from the CLASSPATH.

  The logger is also set up in order to periodically scan this file, the period is set
  to 5 minutes. So, if we want to turn on or off a different log we can do that on the
  fly.

  Milo Casagrande milo.casagrande@inria.fr, 2011
 -->
<!-- Set debug to 'true' to turn it on, it will print information on the stdout -->
<configuration debug="true" scan="true" scanPeriod="5 minutes">
  <appender name="stdout" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%date %-5level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="info.file" class="ch.qos.logback.core.FileAppender">
    <file>/local/var/log/mymed/mymed-backend-info.log</file>
    <encoder>
      <pattern>%date %-5level [%thread] [%file:%line] %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="debug.file" class="ch.qos.logback.core.FileAppender">
    <file>/local/var/log/mymed/mymed-backend-debug.log</file>
    <encoder>
      <pattern>%date %-5level [%thread] [%file:%line] %msg%n%ex{full}</pattern>
    </encoder>
  </appender>

  <!-- Logger for 'info' level, to turn off the logger set its level to 'off' -->
  <logger name="mymed.info.logger" level="info">
    <appender-ref ref="info.file"/>
  </logger>

  <!-- Logger for 'debug' level, to turn off the logger set its level to 'off' -->
  <logger name="mymed.debug.logger" level="debug">
    <appender-ref ref="debug.file"/>
  </logger>

  <!--
    The default logger, default is to be set to 'info' and to print to the stdout.
    To turn it off, set its level to 'off'
  -->
  <root level="info">
    <appender-ref ref="stdout" />
  </root>
</configuration>
